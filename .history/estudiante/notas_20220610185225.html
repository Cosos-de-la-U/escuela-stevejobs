<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <link rel="apple-touch-icon" sizes="76x76" href="../assets/img/apple-icon.png">
    <link rel="icon" type="image/png" href="../assets/img/favicon.png">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>Notas</title>
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no'
        name='viewport' />
    <!--     Fonts and icons     -->
    <link rel="stylesheet" type="text/css"
        href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
    <!-- CSS Files -->
    <link href="../assets/css/material-dashboard.css?v=2.1.0" rel="stylesheet" />
    <!-- CSS Just for demo purpose, don't include it in your project -->
    <link href="../assets/demo/demo.css" rel="stylesheet" />


</head>

<body>
    <div class="wrapper ">
        <div class="sidebar" color="blue">
            <div class="logo">
                <span class="simple-text logo-normal" id="UserLog"></span>
            </div>
            <div class="sidebar-wrapper">
                <ul class="nav">
                    <li class="nav-item">
                        <a class="nav-link" href="./perfil.html">
                            <i class="material-icons">dashboard</i>
                            <p>Perfil</p>
                        </a>
                    </li>
                    <li class="nav-item active">
                        <a class="nav-link" href="./notas.html">
                            <i class="material-icons">person</i>
                            <p>Notas</p>
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#" id="cerrarSesionOk">
                            <i class="material-icons">logout</i>
                            <p>Cerrar sesión</p>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="main-panel">
            <!-- Navbar -->
            <nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top " id="navigation-example">
                <div class="container-fluid">
                    <div class="navbar-wrapper">
                        <a class="navbar-brand" href="javascript:void(0)">Lista de Materias</a>
                    </div>
                    <!-- <button class="navbar-toggler" type="button" data-toggle="collapse" aria-controls="navigation-index"
                        aria-expanded="false" aria-label="Toggle navigation" data-target="#navigation-example">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="navbar-toggler-icon icon-bar"></span>
                        <span class="navbar-toggler-icon icon-bar"></span>
                        <span class="navbar-toggler-icon icon-bar"></span>
                    </button> -->
                    <div class="collapse navbar-collapse justify-content-end">
                        <!-- <ul class="navbar-nav">
                            <li class="nav-item dropdown">
                                <a class="nav-link" href="javscript:void(0)" id="navbarDropdownMenuLink"
                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                     <i class="material-icons">person</i>
                                    <p class="d-lg-none d-md-block">
                                        Some Actions
                                    </p>
                                </a>
                                 <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                                    <a class="dropdown-item" href="javascript:void(0)">Mi perfil</a>
                                    <a class="dropdown-item" href="javascript:void(0)">Cerrar sesión</a>
                                </div> 
                            </li>
                        </ul>  -->
                    </div>
                </div>
            </nav>
            <!-- End Navbar -->
            <div class="content" style="margin-top: 30px;">
                <div class="container-fluid">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="card">
                                <div class="card-header card-header-primary">
                                    <!-- <h4 class="card-title ">Materias</h4> -->
                                    <p class="card-category">
                                    <ul class="nav nav-tabs" data-tabs="tabs">
                                        <li class="nav-item">
                                            <button type="button" id="printBoletNotas" class="btn btn-success"
                                                onclick="generarpdfTODAS()">
                                                <i class="material-icons">print</i> Todas
                                                <div class="ripple-container"></div>
                                            </button>
                                        </li>
                                        <li class="nav-item">
                                            <button type="button" class="btn btn-success" data-toggle="modal"
                                                data-target="#mdPrevImpresion">
                                                <i class="material-icons">print</i> Boletas
                                                <div class="ripple-container"></div>
                                            </button>
                                        </li>
                                    </ul>
                                    </p>
                                </div>
                                <!-- <script>
                                    document.getElementById("printBoletNotas").addEventListener("click", () => {
                                        impNotas();
                                    });
                                </script>-->
                                <!--
                                <script>
                                    document.getElementById("printBoletNotas").addEventListener("click", () => {
                                        printNotas();
                                    });
                                </script>
                                -->
                                <div class="card-body">
                                    <div class="row">
                                        <div class="col-12 col-sm-12 col-md-6">
                                            <div class="form-group">
                                                <label class="bmd-label-floating">Buscar</label>
                                                <input type="text" class="form-control" id="buscarInMaterisS"
                                                    placeholder="Buscar Materia">
                                            </div>
                                        </div>
                                    </div>
                                    <div id="notasAlumnno">
                                        <div class="row">
                                            <div class="col-12 col-sm-12 col-md-6">
                                                <div class="form-group">

                                                    <div style="color: #696666;">
                                                        <p>Estudiante: <span id="shwNmStudenToPrint"></span></p>
                                                    </div>
                                                    <div style="color: #cac9c9;">
                                                        <p>Grado: <span id="shwGradeStToPrint"></span></p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="table-responsive">
                                            <table class="table table-hover" id="tbListEstNotasAlumnoUser">
                                                <thead id="theadalln">
                                                </thead>
                                                <tbody id="tbodyalln">
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>







    <!-- MODAL AGREGAR NOTA PERIODOS  -->
    <div class="modal fade" id="mdPrevImpresion" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content  ">
                <div class="modal-header">
                    <h5 class="modal-title  text-dark" id="exampleModalLabel">Imprimir boleta</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true" class=" text-dark">&times;</span>
                    </button>
                </div>
                <div class="modal-body ">
                    <div class="row row-cols-1 row-cols-md-2">
                        <div class="col">
                            <ul class="list-inline">
                                <li class="list-inline-item">
                                    <button class="btn btn-success" href="#" id="printBoletNotasEstudiantex"
                                        onclick="printNotas()">
                                        <i class="material-icons list-inline-item">print</i>
                                        Imprimir
                                        <div class="ripple-container"></div>
                                    </button>
                                </li>
                            </ul>
                        </div>
                        <div class="col form-group">
                            <style>
                                #selPerFnNotas {
                                    color: #585757;
                                }
                            </style>
                            <label class="bmd-label-floating"></label>
                            <select class="form-control" id="selPerFnNotas" required>
                                <option value="I Periodo">I Trimestre</option>
                                <option value="II Periodo">II Trimestre</option>
                                <option value="III Periodo">III Trimestre</option>
                                <option value="Finales">Finales</option>
                            </select>
                        </div>
                    </div>

                    <span hidden id="nmStudente"></span>
                    <div id="boxPrintNotasxStuden" class="text-center" style="padding-top: 20px;">
                        <div class="table-responsive">
                            <table class="table" id="tbToPrintNtStudent">
                                <thead class="text-center  text-dark" id="theadGrades">
                                </thead>
                                <tbody id="theadGrades">

                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- * * * * * * * START / Firebase and Firestore * * * * * * * -->

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.4.2/firebase-app.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
        https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/8.4.2/firebase-firestore.js"></script>

    <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyAEg_yQb0FhHjl7EG967BjTcPBPZxdHmiM",
            authDomain: "escuelascrum.firebaseapp.com",
            databaseURL: "https://escuelascrum-default-rtdb.firebaseio.com",
            projectId: "escuelascrum",
            storageBucket: "escuelascrum.appspot.com",
            messagingSenderId: "855708798969",
            appId: "1:855708798969:web:bdad54c63bd7f4bc747728"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
    </script>

    <!-- * * * * * * *  END / Firebase and Firestore * * * * * * * -->

    <!--   Core JS Files   -->
    <!--  Notifications Plugin    -->
    <script src="../assets/js/core/jquery.min.js"></script>
    <script src="../assets/js/core/popper.min.js"></script>
    <script src="../assets/js/plugins/bootstrap-notify.js"></script>
    <script src="../assets/js/core/bootstrap-material-design.min.js"></script>
    <script src="https://unpkg.com/default-passive-events"></script>
    <script src="../assets/js/plugins/perfect-scrollbar.jquery.min.js"></script>
    <!-- Place this tag in your head or just before your close body tag. -->
    <script src="https://buttons.github.io/buttons.js"></script>
    <!-- Chartist JS -->
    <script src="../assets/js/plugins/chartist.min.js"></script>

    <!-- Control Center for Material Dashboard: parallax effects, scripts for the example pages etc -->
    <script src="../assets/js/material-dashboard.js?v=2.1.0"></script>
    <!-- Material Dashboard DEMO methods, don't include it in your project! -->
    <script src="../assets/demo/demo.js"></script>
    <script src="../assets/js/jspdf.js"></script>
    <script src="../estudiante/jsPDF-1.3.2/dist/jspdf.min.js"></script>

    <script>
        $(document).ready(function () {
            $().ready(function () {
                $sidebar = $('.sidebar');

                $sidebar_img_container = $sidebar.find('.sidebar-background');

                $full_page = $('.full-page');

                $sidebar_responsive = $('body > .navbar-collapse');

                window_width = $(window).width();

                $('.fixed-plugin a').click(function (event) {
                    // Alex if we click on switch, stop propagation of the event, so the dropdown will not be hide, otherwise we set the  section active
                    if ($(this).hasClass('switch-trigger')) {
                        if (event.stopPropagation) {
                            event.stopPropagation();
                        } else if (window.event) {
                            window.event.cancelBubble = true;
                        }
                    }
                });

                $('.fixed-plugin .active-color span').click(function () {
                    $full_page_background = $('.full-page-background');

                    $(this).siblings().removeClass('active');
                    $(this).addClass('active');

                    var new_color = $(this).data('color');

                    if ($sidebar.length != 0) {
                        $sidebar.attr('data-color', new_color);
                    }

                    if ($full_page.length != 0) {
                        $full_page.attr('filter-color', new_color);
                    }

                    if ($sidebar_responsive.length != 0) {
                        $sidebar_responsive.attr('data-color', new_color);
                    }
                });

                $('.fixed-plugin .background-color .badge').click(function () {
                    $(this).siblings().removeClass('active');
                    $(this).addClass('active');

                    var new_color = $(this).data('background-color');

                    if ($sidebar.length != 0) {
                        $sidebar.attr('data-background-color', new_color);
                    }
                });

                $('.fixed-plugin .img-holder').click(function () {
                    $full_page_background = $('.full-page-background');

                    $(this).parent('li').siblings().removeClass('active');
                    $(this).parent('li').addClass('active');


                    var new_image = $(this).find("img").attr('src');

                    if ($sidebar_img_container.length != 0 && $('.switch-sidebar-image input:checked').length != 0) {
                        $sidebar_img_container.fadeOut('fast', function () {
                            $sidebar_img_container.css('background-image', 'url("' + new_image + '")');
                            $sidebar_img_container.fadeIn('fast');
                        });
                    }

                    if ($full_page_background.length != 0 && $('.switch-sidebar-image input:checked').length != 0) {
                        var new_image_full_page = $('.fixed-plugin li.active .img-holder').find('img').data('src');

                        $full_page_background.fadeOut('fast', function () {
                            $full_page_background.css('background-image', 'url("' + new_image_full_page + '")');
                            $full_page_background.fadeIn('fast');
                        });
                    }

                    if ($('.switch-sidebar-image input:checked').length == 0) {
                        var new_image = $('.fixed-plugin li.active .img-holder').find("img").attr('src');
                        var new_image_full_page = $('.fixed-plugin li.active .img-holder').find('img').data('src');

                        $sidebar_img_container.css('background-image', 'url("' + new_image + '")');
                        $full_page_background.css('background-image', 'url("' + new_image_full_page + '")');
                    }

                    if ($sidebar_responsive.length != 0) {
                        $sidebar_responsive.css('background-image', 'url("' + new_image + '")');
                    }
                });

                $('.switch-sidebar-image input').change(function () {
                    $full_page_background = $('.full-page-background');

                    $input = $(this);

                    if ($input.is(':checked')) {
                        if ($sidebar_img_container.length != 0) {
                            $sidebar_img_container.fadeIn('fast');
                            $sidebar.attr('data-image', '#');
                        }

                        if ($full_page_background.length != 0) {
                            $full_page_background.fadeIn('fast');
                            $full_page.attr('data-image', '#');
                        }

                        background_image = true;
                    } else {
                        if ($sidebar_img_container.length != 0) {
                            $sidebar.removeAttr('data-image');
                            $sidebar_img_container.fadeOut('fast');
                        }

                        if ($full_page_background.length != 0) {
                            $full_page.removeAttr('data-image', '#');
                            $full_page_background.fadeOut('fast');
                        }

                        background_image = false;
                    }
                });

                $('.switch-sidebar-mini input').change(function () {
                    $body = $('body');

                    $input = $(this);

                    if (md.misc.sidebar_mini_active == true) {
                        $('body').removeClass('sidebar-mini');
                        md.misc.sidebar_mini_active = false;

                        $('.sidebar .sidebar-wrapper, .main-panel').perfectScrollbar();

                    } else {

                        $('.sidebar .sidebar-wrapper, .main-panel').perfectScrollbar('destroy');

                        setTimeout(function () {
                            $('body').addClass('sidebar-mini');

                            md.misc.sidebar_mini_active = true;
                        }, 300);
                    }

                    // we simulate the window Resize so the charts will get updated in realtime.
                    var simulateWindowResize = setInterval(function () {
                        window.dispatchEvent(new Event('resize'));
                    }, 180);

                    // we stop the simulation of Window Resize after the animations are completed
                    setTimeout(function () {
                        clearInterval(simulateWindowResize);
                    }, 1000);

                });
            });
        });
    </script>

    <!--Reportes-->

</body>

<script src="../estudiante/jsPDF-1.3.2/libs/html2canvas/dist/html2canvas.js"></script>
<script>
    // function impNotas() {
    //     html2canvas(document.getElementById("notasAlumno"),{
    //         onreaderer: function (canvas){

    //             var doc = new jsPDF();
    //             doc.save("prueba.pdf")
    //         }
    //     });

    // }

</script>

<script src="../assets/js/login/globalsesion.js"></script>
<script>
    window.addEventListener("DOMContentLoaded", (e) => {
        if (GetLSSesionUser() == null) {
            console.log("no logeado");
            RutaDeAccesoPerfilUser("../login");
        } else {
            console.log("ok logeado");
            console.log("funcionos iduse= ", GetLSSesionTipoU());
            document.getElementById("UserLog").innerHTML = GetNameUserLog();
        }
    });

    document.getElementById("cerrarSesionOk").addEventListener("click", (e) => {
        LogOut();

    });
</script>

<script src="../assets/js/estudiante/theaders.js"></script>
<script src="../assets/js/estudiante/getNotas.js"></script>
<script src="../assets/js/estudiante/boleta.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.2.11/jspdf.plugin.autotable.min.js"></script>

<script>
    function printNotas() {
        var doc = new jsPDF()
        
        var obj = new jsPDF('p', 'pt', 'a4');
        var res = obj.autoTableHtmlToJson(document.getElementById("tbToPrintNtStudent"));
        obj.addImage(imgData, 'PNG', 30, 20, 47, 47)
        obj.setFont("helvetica");
        obj.setFontType("normal");
        obj.setFontSize(14);
        obj.text('Escuela Steve Jobs', 80, 47)

        // Obteniendo período
        var cb = document.getElementById('selPerFnNotas');
        var txtPeriodo = cb.options[cb.selectedIndex].text;
        obj.setFontSize(12);
        obj.text('Hoja de notas ' + txtPeriodo, 40, 90)

        // Obteniendo fecha actual
        var today = new Date();
        var dd = String(today.getDate()).padStart(2, '0');
        var mm = String(today.getMonth() + 1).padStart(2, '0');
        var yyyy = today.getFullYear();

        obj.setFontSize(10);
        obj.text(mm + '/' + dd + '/' + yyyy, 500, 47)

        // Obteniendo estudiante
        var txtEstudiante = document.getElementById('UserLog').innerHTML;
        //Obteniendo grado
        var txtGrado = document.getElementById('shwGradeStToPrint').innerHTML;
        var tabla = document.getElementById('tbToPrintNtStudent');
        var materiasReprobadas = [];
        var materiasAprobadas = [];
        var notaminima = 5, xgrado = 500;
        if (txtGrado == "Primer Año Bachillerato" || txtGrado == "Segundo Año Bachillerato") {
            xgrado = 420;
            notaminima = 6;
        }
        obj.setFontSize(12);
        obj.text(txtGrado, xgrado, 90)
        obj.text('Alumno: ' + txtEstudiante, 40, 132)

        obj.autoTable({ html: '#tbToPrintNtStudent', startX: 10, startY: 155 })

        // Obteniendo materias aprobadas y reprobadas        

        var selectvalue = document.getElementById('selPerFnNotas').value;
        var countcells = 4;
        if (selectvalue == "Finales") {
            countcells = 1;
        }
        for (i = 1; i < tabla.rows.length; i++) {
            if (tabla.rows[i].cells[countcells].innerText >= notaminima) {
                materiasAprobadas.push(tabla.rows[i].cells[0].innerText);
            }
            else if (tabla.rows[i].cells[countcells].innerText < notaminima) {
                materiasReprobadas.push(tabla.rows[i].cells[0].innerText);
            }
        }
        obj.setFontSize(11);
        let finalY = obj.lastAutoTable.finalY;
        obj.text('Materias aprobadas: ' + materiasAprobadas.length, 40, finalY + 30)
        obj.text('' + materiasAprobadas, 40, finalY + 55)
        obj.text('Materias reprobadas: ' + materiasReprobadas.length, 40, finalY + 80)
        obj.text('' + materiasReprobadas, 40, finalY + 100)

        obj.save('Notas_' + txtPeriodo + '_' + txtEstudiante + '.pdf')
    }



    function generarpdfTODAS() {
        var pdf = new jsPDF('landscape');
        var imgData = 'data:image/png;base64,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
        
        xM7dNPZ5GJx1SN36/BmQxDGkhPIDjT+vYnxa76GY8DOukpU28PQHXizy979OK6Hr10FplYDG38qWcaf6yOrabYfJuIS0/AEBlJSfxwoo
        
        SNR4qUDtE9MUhPDyAbmKJ2wB39BuooLvEY+81vi+3G71c33ZgK6Qnod0//QVjUL4Jf41t2rYmeAHAzKrP+RrRtT8+m5l0QaHi3v0Fy7Dd
        
        
        +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''
        pdf.addImage(imgData, 'PNG', 8, 20, 25, 25)
        pdf.setFont("helvetica");
        pdf.setFontType("normal");
        pdf.setFontSize(14);
        pdf.text('Escuela Steve Jobs', 15, 33)
        pdf.setFontSize(12);
        pdf.text('Hoja de notas de Año Académico', 15, 48)

        // Obteniendo fecha actual
        var today = new Date();
        var dd = String(today.getDate()).padStart(2, '0');
        var mm = String(today.getMonth() + 1).padStart(2, '0');
        var yyyy = today.getFullYear();

        pdf.setFontSize(10);
        pdf.text(mm + '/' + dd + '/' + yyyy, 263, 33)

        // Obteniendo estudiante
        var txtEstudiante = document.getElementById('UserLog').innerHTML;
        //Obteniendo grado
        var txtGrado = document.getElementById('shwGradeStToPrint').innerHTML;
        //Según el grado cambiar algunos valores de variables para que se vea mejor el pdf
        var cellwidthvar =20, posicionxgrado = 263, posiciony1 = 10, posiciony2 = 17, posiciony3 = 24, posiciony4 = 31, notaparareprobar = 5, countcell = 13;
        if (txtGrado == "Primer Año Bachillerato" || txtGrado == "Segundo Año Bachillerato") {
            posicionxgrado = 235; posiciony1 = 6; posiciony2 = 12; posiciony3 = 18; posiciony4 = 24; notaparareprobar = 6; countcell = 17;
            cellwidthvar=17;
        }
        //imprimiendo grado, alumno y tabla de notas
        
        pdf.setFontSize(12);
        pdf.text(txtGrado, posicionxgrado, 40)
        pdf.text('Alumno: ' + txtEstudiante, 15, 55)
        pdf.autoTable({
            html: '#tbListEstNotasAlumnoUser', columnStyles: {
                0: { cellWidth: 25 },
                4: { cellWidth: cellwidthvar},
                8: { cellWidth: cellwidthvar},
                12: { cellWidth: cellwidthvar},
                16: { cellWidth: cellwidthvar},
                // etc
            }, startX: 10, startY: 60
        })

        // Obteniendo materias aprobadas y reprobadas        
        var tabla = document.getElementById('tbListEstNotasAlumnoUser');
        var materiasReprobadas = [];
        var materiasAprobadas = [];

        for (i = 2; i < tabla.rows.length; i++) {
            if (tabla.rows[i].cells[countcell].innerText >= notaparareprobar) {
                materiasAprobadas.push(tabla.rows[i].cells[0].innerText);
            }
            else if (tabla.rows[i].cells[countcell].innerText < notaparareprobar) {
                materiasReprobadas.push(tabla.rows[i].cells[0].innerText);
            }
        }

        pdf.setFontSize(11);
        //Imprimiendo materias aprobadas y reprobadas
        let finalY = pdf.lastAutoTable.finalY;
        pdf.text('Materias aprobadas: ' + materiasAprobadas.length, 15, finalY + posiciony1)
        pdf.text('' + materiasAprobadas, 15, finalY + posiciony2)
        pdf.text('Materias reprobadas: ' + materiasReprobadas.length, 15, finalY + posiciony3)
        pdf.text('' + materiasReprobadas, 15, finalY + posiciony4)

        pdf.save('Escuela_Steve_Jobs_Notas_' + txtEstudiante + '.pdf')
    }

</script>

</html>